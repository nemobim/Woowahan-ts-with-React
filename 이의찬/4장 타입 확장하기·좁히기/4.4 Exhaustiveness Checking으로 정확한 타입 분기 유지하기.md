## 4. Exhaustiveness Checking으로 정확한 타입 분기 유지하기

TypeScript에서 모든 케이스를 처리했는지 컴파일 타임에 강제하는 패턴

```tsx
type Status = 'pending' | 'success' | 'error';

function handleStatus(status: Status) {
    if (status === 'pending') {
        console.log('대기 중...');
    } else if (status === 'success') {
        console.log('성공!');
    }
    // 'error' 케이스를 깜빡했지만 컴파일 에러 없음! 😱
}
```

```tsx
function assertNever(x: never): never {
    throw new Error(`처리되지 않은 케이스: ${x}`);
}

function handleStatus(status: Status) {
    if (status === 'pending') {
        console.log('대기 중...');
    } else if (status === 'success') {
        console.log('성공!');
    } else if (status === 'error') {
        console.log('에러 발생');
    } else {
        // 모든 케이스를 다루면 status는 never 타입
        assertNever(status);  // ✅
    }
}

// 만약 'error' 케이스를 빼먹으면?
function handleStatusBad(status: Status) {
    if (status === 'pending') {
        console.log('대기 중...');
    } else if (status === 'success') {
        console.log('성공!');
    } else {
        assertNever(status);
        // ❌ 컴파일 에러!
        // Argument of type 'string' is not assignable to parameter of type 'never'
    }
}
```